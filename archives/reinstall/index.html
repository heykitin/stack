<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content='VPS 主机使用一键 DD 脚本自动重装系统优化版'><title>一键 DD 自动重装脚本</title>
<link rel=canonical href=/archives/reinstall/><link rel=stylesheet href=/scss/style.min.b776c29aa15014c4b8af17594eb9f36bfbf1da196ecd5914461a5869aec7ef58.css><meta property='og:title' content='一键 DD 自动重装脚本'><meta property='og:description' content='VPS 主机使用一键 DD 脚本自动重装系统优化版'><meta property='og:url' content='/archives/reinstall/'><meta property='og:site_name' content="Kitin's"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Linux'><meta property='article:tag' content='VPS'><meta property='article:published_time' content='2022-12-01T10:53:36+08:00'><meta property='article:modified_time' content='2022-12-01T10:53:36+08:00'><meta name=twitter:title content="一键 DD 自动重装脚本"><meta name=twitter:description content="VPS 主机使用一键 DD 脚本自动重装系统优化版"><link rel="shortcut icon" href=/favicon.ico><style>:root{--article-font-family:"Noto Serif SC", var(--base-font-family)}</style><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu3062918ec655b699aef6c10c56bc778d_207173_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>Kitin's</a></h1><h2 class=site-description></h2></div></header><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>主页</span></a></li><li><a href=/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>搜索</span></a></li><li><a href=/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>归档</span></a></li><li><a href=/about/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>关于</span></a></li><div class=menu-bottom-section><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></div></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#前言>前言</a></li><li><a href=#安装过程>安装过程</a><ol><li><a href=#准备工作>准备工作</a></li><li><a href=#一键-dd>一键 DD</a></li></ol></li><li><a href=#注意事项>注意事项</a></li><li><a href=#参考资料>参考资料</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/archives/reinstall/>一键 DD 自动重装脚本</a></h2><h3 class=article-subtitle>VPS 主机使用一键 DD 脚本自动重装系统优化版</h3></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Dec 01, 2022</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 4 分钟</time></div></footer></div></header><section class=article-content><h2 id=前言>前言</h2><p>VPS 主机一键自动重装系统脚本优化版，DD 过程简单，傻瓜式安装。 脚本支持原版自定义密码安装，可选 Linux 和 Windows 系统，而且脚本支持 Oracle 甲骨文免费云主机使用支持 UEFI 的镜像包安装。</p><p>一键 DD 脚本，支持性好，更智能更全面，支持国内外各种 VPS 重装，特别是对国内各种访问国外资源慢的 VPS 安装有奇效。</p><ul><li><a class=link href=https://github.com/fcurrk/reinstall target=_blank rel=noopener>Github 项目地址
<span style=white-space:nowrap><svg width=".7em" height=".7em" viewBox="0 0 21 21" xmlns="http://www.w3.org/2000/svg"><path d="m13 3 3.293 3.293-7 7 1.414 1.414 7-7L21 11V3z" fill="currentcolor"/><path d="M19 19H5V5h7l-2-2H5c-1.103.0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103.0 2-.897 2-2v-5l-2-2v7z" fill="currentcolor"/></span></a></li></ul><h2 id=安装过程>安装过程</h2><h3 id=准备工作>准备工作</h3><p>为防止异常，先执行以下命令：</p><ul><li>Debian/Ubuntu:</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>apt update -y <span class=o>&amp;&amp;</span> apt dist-upgrade -y
</span></span></code></pre></div><ul><li>RedHat/CentOS:</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>yum makecache <span class=o>&amp;&amp;</span> yum update -y
</span></span></code></pre></div><p>安装重装系统的前提组件:</p><ul><li>Debian/Ubuntu:</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>apt-get install -y xz-utils openssl gawk file wget screen <span class=o>&amp;&amp;</span> screen -S os
</span></span></code></pre></div><ul><li>RedHat/CentOS:</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>yum install -y xz openssl gawk file glibc-common wget screen <span class=o>&amp;&amp;</span> screen -S os
</span></span></code></pre></div><hr><h3 id=一键-dd>一键 DD</h3><p>执行命令：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>wget --no-check-certificate -O NewReinstall.sh https://git.io/newbetags <span class=o>&amp;&amp;</span> chmod a+x NewReinstall.sh <span class=o>&amp;&amp;</span> bash NewReinstall.sh
</span></span></code></pre></div><p>如为CN主机(部分主机商已不能使用)，可能出现报错或不能下载脚本的问题，可执行以下命令开始安装：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>wget --no-check-certificate -O NewReinstall.sh https://cdn.jsdelivr.net/gh/fcurrk/reinstall@master/NewReinstall.sh <span class=o>&amp;&amp;</span> chmod a+x NewReinstall.sh <span class=o>&amp;&amp;</span> bash NewReinstall.sh
</span></span></code></pre></div><p>运行后，会获取公网 IP、网关和子网掩码，确认一致后，按下 <code>Y</code> 回车下一步：</p><blockquote><p>公网 IP 、网关及子网掩码可在 VPS 控制面板进行查看，若不一致，可输入 <code>N</code> 进行自定义</p></blockquote><p><img src=/archives/reinstall/1.png width=700 height=400 srcset="/archives/reinstall/1_hu8eecd73445506abac9ee4a2934803dae_143707_480x0_resize_box_3.png 480w, /archives/reinstall/1_hu8eecd73445506abac9ee4a2934803dae_143707_1024x0_resize_box_3.png 1024w" loading=lazy alt="◎ 网络确认" class=gallery-image data-flex-grow=175 data-flex-basis=420px></p><p>然后进行系统选择，41合1的系统一键 DD 选择界面，输入 <code>99</code> 则使用自定义镜像：</p><p><img src=/archives/reinstall/2.png width=700 height=720 srcset="/archives/reinstall/2_hu21f5d0e9e5cf82f6ab7f93c5c8b682bf_255218_480x0_resize_box_3.png 480w, /archives/reinstall/2_hu21f5d0e9e5cf82f6ab7f93c5c8b682bf_255218_1024x0_resize_box_3.png 1024w" loading=lazy alt="◎ 系统选择" class=gallery-image data-flex-grow=97 data-flex-basis=233px></p><p>若输入 <code>9-16</code> 安装原版系统，可自定义密码，密码要求8-16位，以英文字母或数字开头，可以是大小写英文字母、数字及7个特殊字符.!$@#&%的任意组合，然后设置端口确认信息后，即可进行安装：</p><p><img src=/archives/reinstall/3.png width=700 height=360 srcset="/archives/reinstall/3_hu68c416604472933cf2bc0e1c84c573bc_11747_480x0_resize_box_3.png 480w, /archives/reinstall/3_hu68c416604472933cf2bc0e1c84c573bc_11747_1024x0_resize_box_3.png 1024w" loading=lazy alt="◎ 自定义设置" class=gallery-image data-flex-grow=194 data-flex-basis=466px></p><p><strong>注意</strong></p><blockquote><p>谷歌云原版系统基础上 DD 会出现自动获取的子网掩码为255.255.255.255，如出现这种情况需要手工输入改正为正确的如255.255.255.0，否则会安装完成主机可能会离线。</p><p>阿里云因使用了特殊的驱动，DD 安装 Windows 系统选择阿里云专用版。</p><p>Oracle Cloud（甲骨文云）可选择支持 UEFI 的镜像，注意基础系统最好选择 Ubuntu，如原系统是 CentOS 可能无法成功，注意如是 ARM 机器注意选择同时支持 ARM64 和 UEFI 的镜像。</p></blockquote><p>41合一系统密码：</p><pre tabindex=0><code>1、CentOS 7.7 (已关闭防火墙及 SELinux，默认密码 Pwd@CentOS)
2、CentOS 7 (默认密码 cxthhhhh.com)
3、CentOS 7 (支持 ARM64、UEFI，默认密码 cxthhhhh.com)
4、CentOS 8 (默认密码 cxthhhhh.com)
5、Rocky 8 (默认密码 cxthhhhh.com)
6、Rocky 8 (支持 UEFI，默认密码 cxthhhhh.com)
7、Rocky 8 (支持 ARM64、UEFI，默认密码 cxthhhhh.com)
8、CentOS 9 (默认密码 cxthhhhh.com)
9、CentOS 6 (官方源原版，默认密码 Minijer.com)
10、Debian 11 (官方源原版，默认密码 Minijer.com)
11、Debian 10 (官方源原版，默认密码 Minijer.com)
12、Debian 9 (官方源原版，默认密码 Minijer.com)
13、Debian 8 (官方源原版，默认密码 Minijer.com)
14、Ubuntu 20.04 (官方源原版，默认密码 Minijer.com)
15、Ubuntu 18.04 (官方源原版，默认密码 Minijer.com)
16、Ubuntu 16.04 (官方源原版，默认密码 Minijer.com)
17、Windows Server 2022 (默认密码 cxthhhhh.com)
18、Windows Server 2022 (支持 UEFI，默认密码 cxthhhhh.com)
19、Windows Server 2019 (默认密码 cxthhhhh.com)
20、Windows Server 2016 (默认密码 cxthhhhh.com)
21、Windows Server 2012 (默认密码 cxthhhhh.com)
22、Windows Server 2008 (默认密码 cxthhhhh.com)
23、Windows Server 2003 (默认密码 cxthhhhh.com)
24、Windows 10 LTSC (默认密码 Teddysun.com)
25、Windows 10 LTSC (支持 UEFI，默认密码 Teddysun.com)
26、Windows 7 x86 Lite (默认密码 nat.ee)
27、Windows 7 x86 Lite (阿里云专用，默认密码 nat.ee)
28、Windows 7 x64 Lite (默认密码 nat.ee)
29、Windows 7 x64 Lite (支持 UEFI，默认密码 nat.ee)
30、Windows 10 LTSC Lite (默认密码 nat.ee)
31、Windows 10 LTSC Lite (阿里云专用，默认密码 nat.ee)
32、Windows 10 LTSC Lite (支持 UEFI，默认密码 nat.ee)
33、Windows Server 2003 Lite (C 盘默认10G，默认密码 WinSrv2003x86-Chinese)
34、Windows Server 2008 Lite (默认密码 nat.ee)
35、Windows Server 2008 Lite (支持 UEFI，默认密码 nat.ee)
36、Windows Server 2012 Lite (默认密码 nat.ee)
37、Windows Server 2012 Lite (支持 UEFI，默认密码nat.ee)
38、Windows Server 2016 Lite (默认密码 nat.ee)
39、Windows Server 2016 Lite (支持 UEFI，默认密码 nat.ee)
40、Windows Server 2022 Lite (默认密码 nat.ee)
41、Windows Server 2022 Lite (支持 UEFI，默认密码 nat.ee)
99、自定义镜像
</code></pre><hr><h2 id=注意事项>注意事项</h2><p>系统名称后带 Lite 的均为精简版，没有的是完整版</p><p>[X64-Legacy-cxthhhhh] 代表系统为 AMD64 位，支持传统 BIOS 启动，cxthhhhh 定制的系统镜像</p><p>ARM64 代表系统支持 ARM64 位</p><p>UEFI 代表系统支持最新的 UEFI 启动，如甲骨文全部都是这种</p><p>aliyun 代表阿里云专用系统镜像</p><p>cxthhhhh、teddysun、nat.ee 均为三位制作系统镜像的大佬代称</p><p>系统密码会在选择相应序号后提示，请注意记录</p><p>系统安装过程会自动断开 SSH 连接，属于正常现象；等待安装完成后即可进行重连</p><h2 id=参考资料>参考资料</h2><ol><li><p><a class=link href=https://github.com/fcurrk/reinstall target=_blank rel=noopener>一键 DD 脚本 Github 项目地址
<span style=white-space:nowrap><svg width=".7em" height=".7em" viewBox="0 0 21 21" xmlns="http://www.w3.org/2000/svg"><path d="m13 3 3.293 3.293-7 7 1.414 1.414 7-7L21 11V3z" fill="currentcolor"/><path d="M19 19H5V5h7l-2-2H5c-1.103.0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103.0 2-.897 2-2v-5l-2-2v7z" fill="currentcolor"/></span></a></p></li><li><p><a class=link href=https://git.beta.gs/ target=_blank rel=noopener>一键 DD 脚本网址
<span style=white-space:nowrap><svg width=".7em" height=".7em" viewBox="0 0 21 21" xmlns="http://www.w3.org/2000/svg"><path d="m13 3 3.293 3.293-7 7 1.414 1.414 7-7L21 11V3z" fill="currentcolor"/><path d="M19 19H5V5h7l-2-2H5c-1.103.0-2 .897-2 2v14c0 1.103.897 2 2 2h14c1.103.0 2-.897 2-2v-5l-2-2v7z" fill="currentcolor"/></span></a></p></li></ol></section><footer class=article-footer><section class=article-tags><a href=/tags/linux/>Linux</a>
<a href=/tags/vps/>VPS</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><footer class=site-footer><section class=powerby>&copy;
2024 <b>Kitin</b>&nbsp;&#183;&nbsp;Built with <b><a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a></b> &
        <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.23.0>Stack</a></b> Theme</section><br><section class=copyright><img src=/img/pc.svg alt=PC width=14px height=14px> <a href="https://beian.mps.gov.cn/#/query/webSearch?code=36010302000981" rel=noreferrer target=_blank>赣公网安备36010302000981</a><br><img src=/img/icp.svg alt=ICP width=14px height=14px> <a href=https://beian.miit.gov.cn/ target=_blank>赣ICP备2024024305号-1</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script><script src=https://cdn.jsdelivr.net/gh/zhixuan2333/gh-blog@v0.1.0/js/nprogress.min.js integrity=sha384-bHDlAEUFxsRI7JfULv3DTpL2IXbbgn4JHQJibgo5iiXSK6Iu8muwqHANhun74Cqg crossorigin=anonymous></script><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/zhixuan2333/gh-blog@v0.1.0/css/nprogress.css integrity=sha384-KJyhr2syt5+4M9Pz5dipCvTrtvOmLk/olWVdfhAp858UCa64Ia5GFpTN7+G4BWpE crossorigin=anonymous><script>NProgress.start(),document.addEventListener("readystatechange",()=>{document.readyState==="interactive"&&NProgress.inc(.8),document.readyState==="complete"&&NProgress.done()})</script></body></html>